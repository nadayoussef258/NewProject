<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Details</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
     <!-- Font Awesome for icons -->
     <link rel="preconnect" href="https://fonts.googleapis.com">
     <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
     <link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,100..1000;1,9..40,100..1000&family=SUSE:wght@100..800&display=swap" rel="stylesheet">
     <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
     <style>
         body {
             font-family: "DM Sans", sans-serif;
         }

        /* Navbar */
        .navbar-custom {
            background-color: white;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .search-container {
            position: relative;
        }

        .search-container .form-control {
            padding-right: 100px;
        }

        .search-container .dropdown {
            position: absolute;
            top: 50%;
            right: 80px;
            transform: translateY(-50%);
        }

        .search-container .btn-search {
            position: absolute;
            top: 50%;
            right: 0;
            transform: translateY(-50%);
            background-color: #ff4757;
            color: white;
            border: none;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .product-details {
            margin-top: 30px;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            padding: 30px;
            animation: fadeIn 0.5s ease forwards;
        }

        /* Product Image Gallery */
        .product-gallery {
            position: relative;
            margin-bottom: 20px;
        }

        .main-image {
            width: 100%;
            height: 400px;
            object-fit: cover;
            border-radius: 8px;
            margin-bottom: 15px;
        }

        .thumbnail-container {
            display: flex;
            gap: 10px;
            overflow-x: auto;
            padding-bottom: 10px;
        }

        .thumbnail {
            width: 80px;
            height: 80px;
            object-fit: cover;
            border-radius: 4px;
            cursor: pointer;
            opacity: 0.7;
            transition: opacity 0.3s ease;
        }

        .thumbnail:hover,
        .thumbnail.active {
            opacity: 1;
            box-shadow: 0 0 0 2px #ff4757;
        }

        /* Product Info */
        .product-title {
            font-size: 2rem;
            color: #333;
            margin-bottom: 10px;
        }

        .product-rating {
            color: #ffc107;
            margin-bottom: 15px;
        }

        .product-price {
            color: #ff4757;
            font-size: 1.8rem;
            font-weight: bold;
            margin: 15px 0;
        }

        .product-description {
            color: #555;
            line-height: 1.6;
            margin-bottom: 20px;
        }

        /* Product Actions */
        .product-actions {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin: 25px 0;
        }

        .quantity-selector {
            display: flex;
            align-items: center;
            height: 45px;
        }

        .quantity-btn {
            width: 40px;
            height: 40px;
            background-color: #f1f1f1;
            border: none;
            color: #333;
            font-size: 1.2rem;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .quantity-btn:hover {
            background-color: #e1e1e1;
        }

        .quantity-input {
            width: 60px;
            height: 40px;
            text-align: center;
            border: 1px solid #e1e1e1;
        }

        .add-to-cart-btn {
            display: inline-block;
            padding: 10px 25px;
            background-color: #ff4757;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
            text-align: center;
            height: 45px;
        }

        .add-to-cart-btn:hover {
            background-color: #ff6b81;
        }

        .wishlist-btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 45px;
            height: 45px;
            background-color: white;
            color: #ff4757;
            border: 1px solid #e1e1e1;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .wishlist-btn:hover {
            background-color: #f8f8f8;
        }

        /* Product Details Tabs */
        .product-tabs {
            margin-top: 40px;
        }

        .nav-tabs .nav-link {
            color: #555;
            font-weight: 500;
        }

        .nav-tabs .nav-link.active {
            color: #ff4757;
            font-weight: 600;
        }

        .tab-content {
            padding: 25px;
            background-color: white;
            border: 1px solid #dee2e6;
            border-top: none;
            border-radius: 0 0 8px 8px;
        }

        /* Product Specifications */
        .specifications-table {
            width: 100%;
        }

        .specifications-table tr td:first-child {
            font-weight: 600;
            width: 30%;
        }

        /* Related Products */
        .related-products {
            margin-top: 50px;
        }

        .related-products h3 {
            margin-bottom: 20px;
        }

        .related-product-slider {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
        }

        .product-card {
            background-color: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
            display: flex;
            flex-direction: column;
        }

        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.15);
        }

        .product-image {
            height: 150px;
            background-size: cover;
            background-position: center;
        }

        .product-info {
            padding: 15px;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }

        .product-info h4 {
            margin-top: 0;
            color: #333;
            font-size: 1.1rem;
        }

        .back-button {
            display: inline-flex;
            align-items: center;
            padding: 8px 15px;
            background-color: #f1f1f1;
            color: #333;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 500;
            transition: background-color 0.3s ease;
            margin-bottom: 20px;
        }

        .back-button:hover {
            background-color: #e1e1e1;
        }

        /* Animation */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .view-details-btn {
            display: block;
            width: 100%;
            padding: 10px;
            background-color: transparent;
            color: #ff4757;
            border: 1px solid #ff4757;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
            text-align: center;
        }

        .view-details-btn:hover {
            background-color: #ff4757;
            color: white;
        }

        #page-loader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(255, 255, 255, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s, visibility 0.3s;
        }

        #page-loader.active {
            opacity: 1;
            visibility: visible;
        }

        #page-loader img {
            width: 150px;
            /* حجم الصورة الصغيرة - يمكن تعديله حسب الحاجة */
            height: auto;
            /* للحفاظ على تناسب الصورة */
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 40%;

        }

        /* Footer Styles */
        footer a {
            color: #333;
            text-decoration: none;
            transition: color 0.3s ease;
        }

        footer a:hover {
            color: #ff4757;
        }

        footer h6 {
            color: #333;
            margin-bottom: 15px;
        }

        footer hr {
            border-color: #f7eeee;
        }

        .footerOne {
            background-color: rgb(231, 231, 231);
        }
    </style>
</head>

<body>

    <!-- Loader -->

    <div id="page-loader">
        <img src="assets/icon-02-02.png" alt="Loading...">
    </div>

    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-light navbar-custom">
        <div class="container">
            <!-- Logo -->
            <a class="navbar-brand" href="#">
                <img src="assets/logo.png" alt=" Logo" style="width: 80px;">
            </a>

            <!-- Mobile Toggle Button -->
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarContent">
                <span class="navbar-toggler-icon"></span>
            </button>

            <!-- Navigation Links -->
            <div class="collapse navbar-collapse" id="navbarContent">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">HOME</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="factories.html">Factories</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="Categories.html">Categories</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="products.html">Products</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-danger" href="Blogs.html">Blogs</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-danger active" href="AboutUs.html">About Us</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-danger" href="ContactUs.html">Contact Us</a>
                    </li>
                </ul>
            </div>

            <!-- Right Icons -->
            <div class="navbar-nav flex-row">
                <div class="nav-item me-3" id="cart-icon">
                    <a class="nav-link position-relative" href="cart.html" style="cursor: pointer;">
                        <i class="fas fa-shopping-cart"></i>
                        <span class="cart-count" id="cart-count">0</span>
                    </a>
                </div>

                <div class="nav-item">
                    <a href="#" class="nav-link" id="user-account">
                        <i class="fas fa-user"></i>
                    </a>
                </div>
            </div>
        </div>
    </nav>
    <div class="container">
        <!-- Back Button -->
        <button class="back-button" id="back-to-products">
            <a href="Products.html" style="text-decoration: none; color: inherit;">
                <i class="fas fa-arrow-left me-2"></i> Back to Products
            </a>
        </button>

        <div class="product-details">
            <div class="row">
                <!-- Product Gallery -->
                <div class="col-lg-6">
                    <div class="product-gallery">
                        <img src="" id="product-image" class="main-image" alt="Product Image">
                        <div class="thumbnail-container">
                            <img src="" class="thumbnail active" alt="Thumbnail 1" onclick="changeMainImage(this)">
                            <img src="" class="thumbnail" alt="Thumbnail 2" onclick="changeMainImage(this)">
                            <img src="" class="thumbnail" alt="Thumbnail 3" onclick="changeMainImage(this)">
                            <img src="" class="thumbnail" alt="Thumbnail 4" onclick="changeMainImage(this)">
                        </div>
                    </div>
                </div>

                <!-- Product Info -->
                <div class="col-lg-6">
                    <h1 class="product-title" id="product-name"></h1>
                    <div class="product-rating">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star-half-alt"></i>
                        <span class="ms-2 text-muted">(32 reviews)</span>
                    </div>
                    <p class="product-price" id="product-price"></p>
                    <div class="product-availability text-success mb-3">
                        <i class="fas fa-check-circle me-1"></i> In Stock
                    </div>
                    <div class="product-description" id="product-short-description">
                        <p></p>
                    </div>

                    <!-- Product Actions -->
                    <div class="product-actions">
                        <div class="quantity-selector">
                            <button class="quantity-btn" onclick="decrementQuantity()">-</button>
                            <input type="number" id="quantity" class="quantity-input" value="1" min="1">
                            <button class="quantity-btn" onclick="incrementQuantity()">+</button>
                        </div>
                        <button class="add-to-cart-btn" data-product-id="${product.id}">Add to Cart</button>

                        <button class="wishlist-btn" onclick="toggleWishlist()">
                            <i class="far fa-heart" id="wishlist-icon"></i>
                        </button>
                    </div>

                    <!-- Product Meta -->
                    <div class="product-meta mt-4">
                        <p class="mb-2"><strong>Category:</strong> <span id="product-category"></span></p>
                        <div class="mt-3">
                            <strong>Share:</strong>
                            <button class="btn btn-sm btn-outline-secondary ms-2"><i
                                    class="fab fa-facebook-f"></i></button>
                            <button class="btn btn-sm btn-outline-secondary ms-2"><i
                                    class="fab fa-twitter"></i></button>
                            <button class="btn btn-sm btn-outline-secondary ms-2"><i
                                    class="fab fa-pinterest"></i></button>
                            <button class="btn btn-sm btn-outline-secondary ms-2"><i
                                    class="fab fa-instagram"></i></button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Product Details Tabs -->
            <div class="product-tabs">
                <ul class="nav nav-tabs" id="productTabs" role="tablist">
                    <li class="nav-item" role="presentation">
                        <button class="nav-link active" id="description-tab" data-bs-toggle="tab"
                            data-bs-target="#description" type="button" role="tab" aria-controls="description"
                            aria-selected="true">Description</button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="specifications-tab" data-bs-toggle="tab"
                            data-bs-target="#specifications" type="button" role="tab" aria-controls="specifications"
                            aria-selected="false">Specifications</button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="reviews-tab" data-bs-toggle="tab" data-bs-target="#reviews"
                            type="button" role="tab" aria-controls="reviews" aria-selected="false">Reviews</button>
                    </li>
                </ul>
                <div class="tab-content" id="productTabsContent">
                    <div class="tab-pane fade show active" id="description" role="tabpanel"
                        aria-labelledby="description-tab">
                        <div id="product-description">

                        </div>
                    </div>
                    <div class="tab-pane fade" id="specifications" role="tabpanel" aria-labelledby="specifications-tab">
                        <table class="table specifications-table">
                            <tbody>
                                <tr>
                                    <td>Dimensions</td>
                                    <td>10 x 5 x 2 inches</td>
                                </tr>
                                <tr>
                                    <td>Weight</td>
                                    <td>1.5 lbs</td>
                                </tr>

                                <tr>
                                    <td>Materials</td>
                                    <td>Aluminum, Plastic</td>
                                </tr>
                                <tr>
                                    <td>Color Options</td>
                                    <td>Black, Silver, Gold</td>
                                </tr>
                                <tr>
                                    <td>Warranty</td>
                                    <td>1 Year Limited</td>
                                </tr>
                                <tr>
                                    <td>Battery Life</td>
                                    <td>Up to 24 hours</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="tab-pane fade" id="reviews" role="tabpanel" aria-labelledby="reviews-tab">
                        <div class="reviews-container">
                            <!-- Example Review -->
                            <div class="review mb-4 pb-3 border-bottom">
                                <div class="d-flex justify-content-between mb-2">
                                    <div>
                                        <h5 class="mb-0">John Doe</h5>
                                        <div class="text-warning mb-1">
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                        </div>
                                    </div>
                                    <small class="text-muted">Posted on March 15, 2023</small>
                                </div>
                                <p>Great product! Exceeded my expectations in every way. The battery life is amazing and
                                    the sound quality is top-notch.</p>
                            </div>
                            <!-- Example Review -->
                            <div class="review mb-4 pb-3 border-bottom">
                                <div class="d-flex justify-content-between mb-2">
                                    <div>
                                        <h5 class="mb-0">Jane Smith</h5>
                                        <div class="text-warning mb-1">
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="far fa-star"></i>
                                        </div>
                                    </div>
                                    <small class="text-muted">Posted on February 24, 2023</small>
                                </div>
                                <p>I love this product. The design is sleek and modern. My only complaint is that it
                                    takes a bit long to charge.</p>
                            </div>

                            <!-- Write a Review Form -->
                            <div class="write-review mt-4">
                                <h4>Write a Review</h4>
                                <form id="review-form">
                                    <div class="mb-3">
                                        <label for="review-name" class="form-label">Your Name</label>
                                        <input type="text" class="form-control" id="review-name" required>
                                    </div>
                                    <div class="mb-3">
                                        <label for="review-email" class="form-label">Your Email</label>
                                        <input type="email" class="form-control" id="review-email" required>
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">Rating</label>
                                        <div class="rating-selector">
                                            <div class="rating">
                                                <i class="far fa-star" data-rating="1"></i>
                                                <i class="far fa-star" data-rating="2"></i>
                                                <i class="far fa-star" data-rating="3"></i>
                                                <i class="far fa-star" data-rating="4"></i>
                                                <i class="far fa-star" data-rating="5"></i>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="mb-3">
                                        <label for="review-text" class="form-label">Your Review</label>
                                        <textarea class="form-control" id="review-text" rows="4" required></textarea>
                                    </div>
                                    <button type="submit" class="btn view-details-btn">Submit Review</button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Related Products -->
        <!-- <div class="related-products">
            <h3>Related Products</h3>
            <div class="related-product-slider"> -->
        <!-- Related Product Card 1 -->
        <!-- <div class="product-card">
                    <div class="product-image" style="background-image: url('https://via.placeholder.com/300x300');"></div>
                    <div class="product-info">
                        <h4>Related Product 1</h4>
                        <div class="product-price">$199.99</div>
                        <div class="product-actions mt-auto">
                            <button class="add-to-cart-btn mb-2">Add to Cart</button>
                            <button class="view-details-btn">View Details</button>
                        </div>
                    </div>
                </div> -->

        <!-- Related Product Card 2 -->
        <!-- <div class="product-card">
                    <div class="product-image" style="background-image: url('https://via.placeholder.com/300x300/ff4757');"></div>
                    <div class="product-info">
                        <h4>Related Product 2</h4>
                        <div class="product-price">$249.99</div>
                        <div class="product-actions mt-auto">
                            <button class="add-to-cart-btn mb-2">Add to Cart</button>
                            <button class="view-details-btn">View Details</button>
                        </div>
                    </div>
                </div> -->

        <!-- Related Product Card 3 -->
        <!-- <div class="product-card">
                    <div class="product-image" style="background-image: url('https://via.placeholder.com/300x300/333');"></div>
                    <div class="product-info">
                        <h4>Related Product 3</h4>
                        <div class="product-price">$149.99</div>
                        <div class="product-actions mt-auto">
                            <button class="add-to-cart-btn mb-2">Add to Cart</button>
                            <button class="view-details-btn">View Details</button>
                        </div>
                    </div>
                </div> -->

        <!-- Related Product Card 4 -->
        <!-- <div class="product-card">
                    <div class="product-image" style="background-image: url('https://via.placeholder.com/300x300/4757ff');"></div>
                    <div class="product-info">
                        <h4>Related Product 4</h4>
                        <div class="product-price">$299.99</div>
                        <div class="product-actions mt-auto">
                            <button class="add-to-cart-btn mb-2">Add to Cart</button>
                            <button class="view-details-btn">View Details</button>
                        </div>
                    </div>
                </div> -->
        <!-- </div>
        </div> -->
    </div>
    <!-- Footer -->
    <footer class="text-dark mt-5">
        <div class="footerOne p-4">
            <div class="container">
                <div class="row">
                    <div class="col-md-4">
                        <p><strong>Address:</strong> <span class="fw-bold">Emirates</span></p>
                        <p><strong>Email:</strong> <a href="mailto:info@masnaaco.ae"
                                class="text-dark fw-bold">info@masnaaco.ae</a></p>
                        <p><strong>Phone:</strong> <a href="tel:+971501234567"
                                class="text-dark fw-bold">+971501234567</a></p>
                        <div class="social-icons mt-3">
                            <a href="#" class="text-dark me-2"><i class="fab fa-facebook"></i></a>                            <a href="#" class="text-dark me-2"><i class="fab fa-instagram"></i></a>
                            <a href="#" class="text-dark me-2"><i class="fab fa-tiktok"></i></a>
                            <a href="#" class="text-dark"><i class="fab fa-pinterest"></i></a>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <h6 class="fw-bold text-dark">Help</h6>
                        <ul class="list-unstyled">
                            <li><a href="#" class="text-dark">Who we are</a></li>
                            <li><a href="#" class="text-dark">Terms and Conditions</a></li>
                            <li><a href="#" class="text-dark">Privacy Policy</a></li>
                        </ul>
                    </div>
                    <div class="col-md-4">
                        <h6 class="fw-bold text-dark">About us</h6>
                        <ul class="list-unstyled">
                            <li><a href="#" class="text-dark">Contact Us</a></li>
                            <li><a href="#" class="text-dark">Account</a></li>
                        </ul>
                    </div>
                </div>
            </div>

            <hr class="bg-secondary my-4">
        </div>
    </footer>


    <div class="text-center bg-dark p-4 text-white">
        <p class="mb-0"> 2025 Nano Technical Solution All Rights Reserved.</p>
    </div>
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        // Cart implementation
        let cart = [];

        // Add event listeners when DOM is loaded
        document.addEventListener('DOMContentLoaded', function () {
            // Add to cart button event listener
            const addToCartBtn = document.querySelector('.add-to-cart-btn');
            if (addToCartBtn) {
                addToCartBtn.addEventListener('click', function () {
                    const quantity = parseInt(document.getElementById('quantity').value);
                    const urlParams = new URLSearchParams(window.location.search);

                    const product = {
                        id: urlParams.get("id"),
                        name: urlParams.get("name"),
                        price: parseFloat(urlParams.get("price")),
                        image: urlParams.get("image")
                    };

                    addToCartWithQuantity(product, quantity);
                });
            }

            // Initialize cart from localStorage if available
            const savedCart = localStorage.getItem('cart');
            if (savedCart) {
                cart = JSON.parse(savedCart);
                updateCartCount();
            }

            // Initialize quantity controls
            document.getElementById('quantity').addEventListener('change', function () {
                if (this.value < 1) this.value = 1;
            });
        });

        // Add to cart function with quantity
        function addToCartWithQuantity(product, quantity) {
            if (!product.id) return;

            const existingItem = cart.find(item => item.id === product.id);

            if (existingItem) {
                existingItem.quantity += quantity;
            } else {
                cart.push({
                    id: product.id,
                    name: product.name,
                    price: product.price,
                    image: product.image,
                    quantity: quantity
                });
            }

            // Save cart to localStorage
            localStorage.setItem('cart', JSON.stringify(cart));

            // Update cart counter
            updateCartCount();

            // Show notification (optional)
            showNotification(`${product.name} added to cart!`, 'success');
        }

        // Update cart count in the icon
        function updateCartCount() {
            const cartCount = document.getElementById('cart-count');
            if (cartCount) {
                const totalItems = cart.reduce((total, item) => total + item.quantity, 0);
                cartCount.textContent = totalItems;
            }
        }

        // Increment and decrement quantity functions
        function incrementQuantity() {
            const quantityInput = document.getElementById('quantity');
            quantityInput.value = parseInt(quantityInput.value) + 1;
        }

        function decrementQuantity() {
            const quantityInput = document.getElementById('quantity');
            const currentValue = parseInt(quantityInput.value);
            if (currentValue > 1) {
                quantityInput.value = currentValue - 1;
            }
        }

        // Optional notification function
        function showNotification(message, type) {
            // Create notification element
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.innerHTML = `
        <div class="notification-content">
            <i class="fas fa-check-circle"></i>
            <span>${message}</span>
        </div>
    `;

            // Add to body
            document.body.appendChild(notification);

            // Add styles
            Object.assign(notification.style, {
                position: 'fixed',
                top: '20px',
                right: '20px',
                backgroundColor: type === 'success' ? '#4CAF50' : '#f44336',
                color: 'white',
                padding: '15px',
                borderRadius: '4px',
                boxShadow: '0 2px 5px rgba(0,0,0,0.2)',
                zIndex: '9999',
                opacity: '0',
                transition: 'opacity 0.3s ease'
            });

            // Show notification
            setTimeout(() => {
                notification.style.opacity = '1';
            }, 10);

            // Hide after 3 seconds
            setTimeout(() => {
                notification.style.opacity = '0';
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);
        }

        // Handle cart icon click - open cart modal
        document.getElementById('cart-icon').addEventListener('click', function (e) {
            e.preventDefault();
            showCartModal();
        });

        // Show cart modal
        function showCartModal() {
            // Create modal if it doesn't exist
            let cartModal = document.getElementById('cart-modal');

            if (!cartModal) {
                cartModal = document.createElement('div');
                cartModal.id = 'cart-modal';
                cartModal.className = 'cart-modal';

                Object.assign(cartModal.style, {
                    position: 'fixed',
                    top: '0',
                    right: '0',
                    width: '350px',
                    height: '100%',
                    backgroundColor: 'white',
                    boxShadow: '-2px 0 5px rgba(0,0,0,0.2)',
                    zIndex: '9999',
                    transition: 'transform 0.3s ease',
                    transform: 'translateX(100%)',
                    display: 'flex',
                    flexDirection: 'column'
                });

                document.body.appendChild(cartModal);
            }

            // Update cart content
            updateCartModal(cartModal);

            // Show modal
            setTimeout(() => {
                cartModal.style.transform = 'translateX(0)';
            }, 10);

            // Create overlay
            let overlay = document.getElementById('cart-overlay');
            if (!overlay) {
                overlay = document.createElement('div');
                overlay.id = 'cart-overlay';

                Object.assign(overlay.style, {
                    position: 'fixed',
                    top: '0',
                    left: '0',
                    width: '100%',
                    height: '100%',
                    backgroundColor: 'rgba(0,0,0,0.5)',
                    zIndex: '9998',
                    opacity: '0',
                    transition: 'opacity 0.3s ease'
                });

                overlay.addEventListener('click', closeCartModal);
                document.body.appendChild(overlay);
            }

            // Show overlay
            setTimeout(() => {
                overlay.style.opacity = '1';
            }, 10);
        }

        // Update cart modal content
        function updateCartModal(modal) {
            modal.innerHTML = `
        <div style="padding: 20px; border-bottom: 1px solid #eee; display: flex; justify-content: space-between; align-items: center;">
            <h4 style="margin: 0;">Shopping Cart</h4>
            <button id="close-cart" style="background: none; border: none; font-size: 18px; cursor: pointer;">×</button>
        </div>
        <div id="cart-items" style="flex: 1; overflow-y: auto; padding: 20px;">
            ${getCartItemsHTML()}
        </div>
        <div style="padding: 20px; border-top: 1px solid #eee;">
            <div style="display: flex; justify-content: space-between; margin-bottom: 15px;">
                <span>Total:</span>
                <span id="cart-total">${calculateTotal()}</span>
            </div>
            <button id="checkout-btn" style="width: 100%; padding: 10px; background-color: #ff4757; color: white; border: none; border-radius: 5px; cursor: pointer;">
                Checkout
            </button>
        </div>
    `;

            // Add event listeners
            setTimeout(() => {
                document.getElementById('close-cart').addEventListener('click', closeCartModal);
                document.getElementById('checkout-btn').addEventListener('click', checkout);

                // Add event listeners for cart item buttons
                document.querySelectorAll('.cart-item-remove').forEach(button => {
                    button.addEventListener('click', function () {
                        const productId = this.getAttribute('data-id');
                        removeFromCart(productId);
                        updateCartModal(modal);
                    });
                });

                document.querySelectorAll('.cart-item-decrease').forEach(button => {
                    button.addEventListener('click', function () {
                        const productId = this.getAttribute('data-id');
                        decreaseCartItem(productId);
                        updateCartModal(modal);
                    });
                });

                document.querySelectorAll('.cart-item-increase').forEach(button => {
                    button.addEventListener('click', function () {
                        const productId = this.getAttribute('data-id');
                        increaseCartItem(productId);
                        updateCartModal(modal);
                    });
                });
            }, 0);
        }

        // Generate HTML for cart items
        function getCartItemsHTML() {
            if (cart.length === 0) {
                return '<div style="text-align: center; padding: 30px;">Your cart is empty</div>';
            }

            return cart.map(item => `
        <div style="display: flex; padding: 10px 0; border-bottom: 1px solid #eee;">
            <div style="width: 80px; height: 80px; margin-right: 15px; background-image: url('${item.image}'); background-size: cover; background-position: center;"></div>
            <div style="flex: 1;">
                <h5 style="margin: 0 0 5px;">${item.name}</h5>
                <p style="margin: 0 0 10px; color: #ff4757;">$${item.price.toFixed(2)}</p>
                <div style="display: flex; align-items: center;">
                    <button class="cart-item-decrease" data-id="${item.id}" style="width: 25px; height: 25px; background: #f1f1f1; border: none; cursor: pointer;">-</button>
                    <span style="margin: 0 10px;">${item.quantity}</span>
                    <button class="cart-item-increase" data-id="${item.id}" style="width: 25px; height: 25px; background: #f1f1f1; border: none; cursor: pointer;">+</button>
                    <button class="cart-item-remove" data-id="${item.id}" style="margin-left: auto; background: none; border: none; color: #999; cursor: pointer;">
                        <i class="fas fa-trash"></i>
                    </button>
                </div>
            </div>
        </div>
    `).join('');
        }

        // Calculate cart total
        function calculateTotal() {
            const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            return `$${total.toFixed(2)}`;
        }

        // Close cart modal
        function closeCartModal() {
            const cartModal = document.getElementById('cart-modal');
            const overlay = document.getElementById('cart-overlay');

            if (cartModal) cartModal.style.transform = 'translateX(100%)';
            if (overlay) overlay.style.opacity = '0';

            setTimeout(() => {
                if (overlay) document.body.removeChild(overlay);
            }, 300);
        }

        // Cart item manipulation functions
        function removeFromCart(productId) {
            cart = cart.filter(item => item.id !== productId);
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCartCount();
        }

        function decreaseCartItem(productId) {
            const item = cart.find(item => item.id === productId);
            if (item) {
                item.quantity--;
                if (item.quantity <= 0) {
                    removeFromCart(productId);
                } else {
                    localStorage.setItem('cart', JSON.stringify(cart));
                    updateCartCount();
                }
            }
        }

        function increaseCartItem(productId) {
            const item = cart.find(item => item.id === productId);
            if (item) {
                item.quantity++;
                localStorage.setItem('cart', JSON.stringify(cart));
                updateCartCount();
            }
        }

        // Checkout function
        function checkout() {
            alert('Proceeding to checkout...');
            // Here you would redirect to checkout page
            // window.location.href = 'checkout.html';
        }

        // Apply some CSS for the cart
        const style = document.createElement('style');
        style.textContent = `
    .cart-count {
        position: absolute;
        top: -8px;
        right: -8px;
        background-color: #ff4757;
        color: white;
        border-radius: 50%;
        width: 18px;
        height: 18px;
        font-size: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
    }
`;
        document.head.appendChild(style);
        // Add event listeners to buttons
        document.querySelectorAll('.add-to-cart-btn').forEach(button => {
            button.addEventListener('click', function () {
                const productId = parseInt(this.getAttribute('data-product-id'));
                addToCart(productId);
            });
        });

        function addToCart(productId) {
            const product = findProductById(productId);
            const existingItem = cart.find(item => item.id === productId);

            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({
                    id: product.id,
                    name: product.name,
                    price: product.price,
                    image: product.image,
                    quantity: 1
                });
            }

            updateCartCount();
            updateCartDisplay();
        }

        // Update cart count
        function updateCartCount() {
            const totalItems = cart.reduce((total, item) => total + item.quantity, 0);
            cartCount.textContent = totalItems;
        }

        // Update cart display
        function updateCartDisplay() {
            if (cart.length === 0) {
                cartItems.innerHTML = '<div class="text-center py-4">Your cart is empty</div>';
                cartTotalAmount.textContent = '$0.00';
                return;
            }

            cartItems.innerHTML = '';
            let total = 0;

            cart.forEach(item => {
                const itemTotal = item.price * item.quantity;
                total += itemTotal;

                const cartItem = document.createElement('div');
                cartItem.className = 'cart-item';
                cartItem.innerHTML = `
                        <div class="cart-item-details">
                            <div class="cart-item-image" style="background-image: url('${item.image}')"></div>
                            <div>
                                <h5>${item.name}</h5>
                                <p>$${item.price.toFixed(2)}</p>
                            </div>
                        </div>
                        <div class="cart-item-quantity">
                            <button class="quantity-btn decrease-qty" data-product-id="${item.id}">-</button>
                            <input type="text" class="quantity-input" value="${item.quantity}" readonly>
                            <button class="quantity-btn increase-qty" data-product-id="${item.id}">+</button>
                        </div>
                        <div class="cart-item-total">
                            <span>$${itemTotal.toFixed(2)}</span>
                            <i class="fas fa-trash-alt remove-item" data-product-id="${item.id}"></i>
                        </div>
                    `;

                cartItems.appendChild(cartItem);
            });

            cartTotalAmount.textContent = `$${total.toFixed(2)}`;

            // Add event listeners for cart item buttons
            document.querySelectorAll('.increase-qty').forEach(button => {
                button.addEventListener('click', function () {
                    const productId = parseInt(this.getAttribute('data-product-id'));
                    increaseQuantity(productId);
                });
            });

            document.querySelectorAll('.decrease-qty').forEach(button => {
                button.addEventListener('click', function () {
                    const productId = parseInt(this.getAttribute('data-product-id'));
                    decreaseQuantity(productId);
                });
            });

            document.querySelectorAll('.remove-item').forEach(button => {
                button.addEventListener('click', function () {
                    const productId = parseInt(this.getAttribute('data-product-id'));
                    removeFromCart(productId);
                });
            });
        }



        const cartIcon = document.getElementById('cart-icon');
        const cartCount = document.getElementById('cart-count');
        // Add to cart functionality
        function addToCart(productId) {
            const product = findProductById(productId);
            const existingItem = cart.find(item => item.id === productId);

            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({
                    id: product.id,
                    name: product.name,
                    price: product.price,
                    image: product.image,
                    quantity: 1
                });
            }

            updateCartCount();
            updateCartDisplay();
            showNotification(`${product.name} added to cart!`, 'success');
        }

        // Update cart count
        function updateCartCount() {
            const totalItems = cart.reduce((total, item) => total + item.quantity, 0);
            cartCount.textContent = totalItems;
        }

        // Update cart display
        function updateCartDisplay() {
            if (cart.length === 0) {
                cartItems.innerHTML = '<div class="text-center py-4">Your cart is empty</div>';
                cartTotalAmount.textContent = '$0.00';
                return;
            }

            cartItems.innerHTML = '';
            let total = 0;

            cart.forEach(item => {
                const itemTotal = item.price * item.quantity;
                total += itemTotal;

                const cartItem = document.createElement('div');
                cartItem.className = 'cart-item';
                cartItem.innerHTML = `
                        <div class="cart-item-details">
                            <div class="cart-item-image" style="background-image: url('${item.image}')"></div>
                            <div>
                                <h5>${item.name}</h5>
                                <p>$${item.price.toFixed(2)}</p>
                            </div>
                        </div>
                        <div class="cart-item-quantity">
                            <button class="quantity-btn decrease-qty" data-product-id="${item.id}">-</button>
                            <input type="text" class="quantity-input" value="${item.quantity}" readonly>
                            <button class="quantity-btn increase-qty" data-product-id="${item.id}">+</button>
                        </div>
                        <div class="cart-item-total">
                            <span>$${itemTotal.toFixed(2)}</span>
                            <i class="fas fa-trash-alt remove-item" data-product-id="${item.id}"></i>
                        </div>
                    `;

                cartItems.appendChild(cartItem);
            });

            cartTotalAmount.textContent = `$${total.toFixed(2)}`;

            // Add event listeners for cart item buttons
            document.querySelectorAll('.increase-qty').forEach(button => {
                button.addEventListener('click', function () {
                    const productId = parseInt(this.getAttribute('data-product-id'));
                    increaseQuantity(productId);
                });
            });

            document.querySelectorAll('.decrease-qty').forEach(button => {
                button.addEventListener('click', function () {
                    const productId = parseInt(this.getAttribute('data-product-id'));
                    decreaseQuantity(productId);
                });
            });

            document.querySelectorAll('.remove-item').forEach(button => {
                button.addEventListener('click', function () {
                    const productId = parseInt(this.getAttribute('data-product-id'));
                    removeFromCart(productId);
                });
            });
        }

        // Increase quantity
        function increaseQuantity(productId) {
            const item = cart.find(item => item.id === productId);
            if (item) {
                item.quantity += 1;
                updateCartCount();
                updateCartDisplay();
            }
        }

        // Decrease quantity
        function decreaseQuantity(productId) {
            const item = cart.find(item => item.id === productId);
            if (item) {
                item.quantity -= 1;
                if (item.quantity === 0) {
                    removeFromCart(productId);
                } else {
                    updateCartCount();
                    updateCartDisplay();
                }
            }
        }

        // Remove from cart
        function removeFromCart(productId) {
            cart = cart.filter(item => item.id !== productId);
            updateCartCount();
            updateCartDisplay();
        }


        // جلب بيانات المنتج من URL
        const urlParams = new URLSearchParams(window.location.search);
        const product = {
            id: urlParams.get("id"),
            name: urlParams.get("name"),
            price: urlParams.get("price"),
            description: urlParams.get("description"),
            image: urlParams.get("image"),
            category: urlParams.get("category"),
            rating: urlParams.get("rating")
        };

        // عرض بيانات المنتج
        document.getElementById('product-name').innerText = product.name;
        document.getElementById('product-price').innerText = product.price + " $";
        document.getElementById('product-description').innerText = product.description;
        document.getElementById('product-image').src = product.image;
        document.getElementById('product-category').innerText = product.category;
        document.getElementById('product-rating').innerText = product.rating;

        // Function to change the main product image
        function changeMainImage(element) {
            // Remove active class from all thumbnails
            document.querySelectorAll('.thumbnail').forEach(thumb => {
                thumb.classList.remove('active');
            });

            // Add active class to clicked thumbnail
            element.classList.add('active');

            // Update main image source
            document.getElementById('main-product-image').src = element.src;
        }

        // Function to handle quantity incrementation
        function incrementQuantity() {
            let quantityInput = document.getElementById('quantity');
            quantityInput.value = parseInt(quantityInput.value) + 1;
        }

        // Function to handle quantity decrementation
        function decrementQuantity() {
            let quantityInput = document.getElementById('quantity');
            let currentValue = parseInt(quantityInput.value);
            if (currentValue > 1) {
                quantityInput.value = currentValue - 1;
            }
        }

        // Function to add product to cart
        // function addToCart() {
        //     let quantity = document.getElementById('quantity').value;
        //     let productName = document.getElementById('product-name').textContent;
        //     let productPrice = document.getElementById('product-price').textContent;

        //     // Show notification (you can replace this with your cart functionality)
        //     alert(`Added ${quantity} ${productName} to cart at ${productPrice} each`);

        //     // TODO: Implement actual cart functionality
        // }

        // Function to toggle wishlist
        function toggleWishlist() {
            let wishlistIcon = document.getElementById('wishlist-icon');
            if (wishlistIcon.classList.contains('far')) {
                wishlistIcon.classList.remove('far');
                wishlistIcon.classList.add('fas');
                wishlistIcon.style.color = '#ff4757';
            } else {
                wishlistIcon.classList.remove('fas');
                wishlistIcon.classList.add('far');
                wishlistIcon.style.color = '';
            }
        }

        // Back button functionality
        document.getElementById('back-to-products').addEventListener('click', function () {
            // Replace this with your navigation logic
            window.history.back();
        });

        // Handle star rating in review form
        document.querySelectorAll('.rating i').forEach(star => {
            star.addEventListener('click', function () {
                const rating = this.getAttribute('data-rating');

                // Reset all stars
                document.querySelectorAll('.rating i').forEach(s => {
                    s.classList.remove('fas');
                    s.classList.add('far');
                });

                // Fill stars up to selected rating
                document.querySelectorAll('.rating i').forEach(s => {
                    if (s.getAttribute('data-rating') <= rating) {
                        s.classList.remove('far');
                        s.classList.add('fas');
                    }
                });
            });

            star.addEventListener('mouseover', function () {
                const rating = this.getAttribute('data-rating');

                // Preview hover state
                document.querySelectorAll('.rating i').forEach(s => {
                    if (s.getAttribute('data-rating') <= rating) {
                        s.classList.add('text-warning');
                    } else {
                        s.classList.remove('text-warning');
                    }
                });
            });

            star.addEventListener('mouseout', function () {
                document.querySelectorAll('.rating i').forEach(s => {
                    s.classList.remove('text-warning');
                });
            });
        });

        // Handle review form submission
        document.getElementById('review-form').addEventListener('submit', function (e) {
            e.preventDefault();

            // Get form values
            const name = document.getElementById('review-name').value;
            const email = document.getElementById('review-email').value;
            const reviewText = document.getElementById('review-text').value;
            const starRating = document.querySelectorAll('.rating .fas').length;

            // Here you would typically send this data to your backend
            console.log('Review submitted:', { name, email, starRating, reviewText });

            // Reset form
            this.reset();
            document.querySelectorAll('.rating i').forEach(s => {
                s.classList.remove('fas');
                s.classList.add('far');
            });

            alert('Thank you for your review!');
        });

        // Load product details from data (placeholder - replace with your actual data loading)
        function loadProductDetails(productId) {
            // In a real implementation, you would fetch product data from your backend
            // This is just a placeholder implementation

            // Simulate loading data
            const products = [
                {
                    id: 1,
                    name: "Wireless Headphones",
                    category: "electronics",
                    price: 99.99,
                    rating: 4.5,
                    image: "/assets/product.jpeg",
                    description: "High-quality wireless headphones with noise cancellation."
                },
                {
                    id: 2,
                    name: "Modern Sofa",
                    category: "furniture",
                    price: 499.99,
                    rating: 4.8,
                    image: "/assets/product.jpeg",
                    description: "Comfortable modern sofa with premium fabric."
                },
                {
                    id: 3,
                    name: "Cotton T-Shirt",
                    category: "clothing",
                    price: 24.99,
                    rating: 4.2,
                    image: "/assets/product.jpeg",
                    description: "Soft cotton t-shirt available in multiple colors."
                },
                {
                    id: 4,
                    name: "Coffee Maker",
                    category: "kitchen",
                    price: 79.99,
                    rating: 4.7,
                    image: "/assets/product.jpeg",
                    description: "Programmable coffee maker for the perfect brew."
                }
            ];

            // Update UI with product data
            document.getElementById('product-name').textContent = product.name;
            document.getElementById('product-price').textContent = product.price;
            document.getElementById('product-short-description').innerHTML = `<p>${product.shortDescription}</p>`;
            document.getElementById('product-description').innerHTML = product.description;
            document.getElementById('product-sku').textContent = product.sku;
            document.getElementById('product-category').textContent = product.category;
            document.getElementById('product-tags').textContent = product.tags;

            // Update specifications tab
            const specTable = document.querySelector('#specifications .specifications-table tbody');
            specTable.innerHTML = '';
            for (const [key, value] of Object.entries(product.specifications)) {
                const row = document.createElement('tr');
                row.innerHTML = `<td>${key.replace(/([A-Z])/g, ' $1').replace(/^./, str => str.toUpperCase())}</td><td>${value}</td>`;
                specTable.appendChild(row);
            }

            // Update images
            const mainImage = document.getElementById('main-product-image');
            const thumbnailContainer = document.querySelector('.thumbnail-container');

            mainImage.src = product.images[0];
            thumbnailContainer.innerHTML = '';

            product.images.forEach((imgSrc, index) => {
                const thumbnail = document.createElement('img');
                thumbnail.src = imgSrc;
                thumbnail.classList.add('thumbnail');
                if (index === 0) thumbnail.classList.add('active');
                thumbnail.alt = `Thumbnail ${index + 1}`;
                thumbnail.onclick = function () { changeMainImage(this); };
                thumbnailContainer.appendChild(thumbnail);
            });
        }

        // On page load
        document.addEventListener('DOMContentLoaded', function () {
            // Extract product ID from URL (if applicable)
            const urlParams = new URLSearchParams(window.location.search);
            const productId = urlParams.get('id');

            // Load product details
            loadProductDetails(productId);
        });
    </script>
</body>

</html>